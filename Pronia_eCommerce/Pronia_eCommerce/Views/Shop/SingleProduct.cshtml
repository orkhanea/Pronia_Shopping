@model VmProduct
<!-- #region Single Product -->
<div class="single-product-full pt-100">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="single-product-img">
                    <div class="swiper-container single-product-slider">
                        <div class="swiper-wrapper">
                            @foreach (var img in Model.SingleProduct.ProductImages)
                            {
                                <div class="swiper-slide">
                                    <a href="/img/products/@img.Image" class="single-img gallery-popup">
                                        <img class="img-full" src="~/img/products/@img.Image" alt="Product Image">
                                    </a>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="single-product-img-bottom">
                        <div class="swiper-container single-product-bottom-slider">
                            <div class="swiper-wrapper">
                                @foreach (var img in Model.SingleProduct.ProductImages)
                                {
                                    <a class="swiper-slide">
                                        <img class="img-full" src="~/img/products/@img.Image" alt="Product Image">
                                    </a>
                                }
                            </div>
                            <div class="single-product-img-button-wrap d-none d-md-block">
                                <div class="single-product-img-button-prev">
                                    <i class="fal fa-angle-left"></i>
                                </div>
                                <div class="single-product-img-button-next">
                                    <i class="fal fa-angle-right"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 pt-5 pt-lg-0">
                <div class="product-info">
                    <h2 class="title">@Model.SingleProduct.Name</h2>
                    <div class="price-box">
                        <span class="price" id="SingleProductPrice">
                            @{
                                bool noPrice = false;
                                foreach (var price in Model.SingleProduct.ProductSizeToProducts)
                                {
                                    if (price.Price != 0)
                                    {
                                        @price.Price
                                        noPrice = false;
                                        break;
                                    }
                                    else
                                    {
                                        noPrice = true;
                                    }
                                }

                                if (noPrice)
                                {
                                    string noPriceText = "Price will be Update soon";
                                    @noPriceText
                                }
                            }
                        </span>
                    </div>
                    <div class="rating-wrap">
                        <div class="rating">
                            <ul>

                                @{

                                    int fiveS = 0;
                                    int fourS = 0;
                                    int threeS = 0;
                                    int twoS = 0;
                                    int oneS = 0;

                                    foreach (var r in Model.RatingStars)
                                    {

                                        if (r.Star == 5)
                                        {
                                            fiveS++;
                                        }
                                        else if (r.Star == 4)
                                        {
                                            fourS++;
                                        }
                                        else if (r.Star == 3)
                                        {
                                            threeS++;
                                        }
                                        else if (r.Star == 2)
                                        {
                                            twoS++;
                                        }
                                        else if (r.Star == 1)
                                        {
                                            oneS++;
                                        }

                                    }

                                    int sum = (fiveS * 5) + (fourS * 4) + (threeS * 3) + (twoS * 2) + (oneS * 1);
                                    int rSum = fiveS + fourS + threeS + twoS + oneS;

                                    if (sum != 0)
                                    {
                                        var totalRating = Math.Round(Convert.ToDecimal(sum / rSum));
                                        <input id="totalRating" type="hidden" value="@totalRating" />
                                    }






                                }
                                <li>
                                    <a class="ratingStrars" href="#"><i class="fa fa-star"></i></a>
                                    <input class="ratingStarsValue" type="hidden" value="1" />
                                </li>
                                <li>
                                    <a class="ratingStrars" href="#"><i class="fa fa-star"></i></a>
                                    <input class="ratingStarsValue" type="hidden" value="2" />
                                </li>
                                <li>
                                    <a class="ratingStrars" href="#"><i class="fa fa-star"></i></a>
                                    <input class="ratingStarsValue" type="hidden" value="3" />
                                </li>
                                <li>
                                    <a class="ratingStrars" href="#"><i class="fa fa-star"></i></a>
                                    <input class="ratingStarsValue" type="hidden" value="4" />
                                </li>
                                <li>
                                    <a class="ratingStrars" href="#"><i class="fa fa-star"></i></a>
                                    <input class="ratingStarsValue" type="hidden" value="5" />
                                </li>
                            </ul>
                        </div>
                        <div class="review">
                            <a href="#">( 1 Review )</a>
                        </div>
                    </div>
                    <div class="selector-full pb-30" id="singleProductSelector">
                        <span class="selector-title">Size</span>
                        <select class="nice-select wide rounded-0">
                            @foreach (var opt in Model.SingleProduct.ProductSizeToProducts)
                            {
                                <option class="opt-price" value="@opt.Id">@opt.ProductSize.Size</option>
                            }
                        </select>
                        @foreach (var opt in Model.SingleProduct.ProductSizeToProducts)
                        {
                            <input type="hidden" value="@opt.Price" class="opt-price-size" />
                        }
                    </div>
                    <p class="product-desc">
                        @Model.SingleProduct.ShortDesc
                    </p>
                    <ul class="single-product-action">
                        <li class="quantity">
                            <div class="cart-action">
                                <form action="">
                                    <input disabled class="cart-action-box" value="1" min="1" max="5" type="text">
                                </form>
                                <div class="minus quantity-btn">
                                    <i class="fal fa-minus"></i>
                                </div>
                                <div class="plus quantity-btn">
                                    <i class="fal fa-plus"></i>
                                </div>
                            </div>
                        </li>
                        <li class="add-to-cart">
                            <a class="btn" href="cart.html">Add to cart</a>
                        </li>
                        <li class="favourite fc">
                            <a class="btn-fc" href="wishlist.html">
                                <i class="fal fa-heart"></i>
                            </a>
                        </li>
                        <li class="product-compare fc">
                            <a href="compare.html">
                                <i class="fal fa-sync-alt"></i>
                            </a>
                        </li>
                    </ul>
                    <ul class="service-item-wrap">
                        <li class="service-item">
                            <div class="service-img">
                                <img src="~/img/shipping/shipping-1.png" alt="Shipping Icon">
                            </div>
                            <div class="service-content">
                                <span>Free <br> Shipping</span>
                            </div>
                        </li>
                        <li class="service-item">
                            <div class="service-img">
                                <img src="~/img/shipping/shipping-2.png" alt="Shipping Icon">
                            </div>
                            <div class="service-content">
                                <span>Safe <br> Payment</span>
                            </div>
                        </li>
                        <li class="service-item">
                            <div class="service-img">
                                <img src="~/img/shipping/shipping-3.png" alt="Shipping Icon">
                            </div>
                            <div class="service-content">
                                <span>Safe <br> Payment</span>
                            </div>
                        </li>
                    </ul>
                    <div class="product-explanation">
                        <span class="product-explanation-title">SKU:</span>
                        <ul>
                            <li>
                                <a href="#">@Model.SingleProduct.SKU</a>
                            </li>
                        </ul>
                    </div>
                    <div class="product-explanation">
                        <span class="product-explanation-title">Category:</span>
                        <ul>
                            <li>
                                <a asp-controller="Shop" asp-action="Index" asp-route-SearchCategory="@Model.SingleProduct.ProductCat.Id">@Model.SingleProduct.ProductCat.CategoryName</a>
                            </li>
                        </ul>
                    </div>
                    <div class="product-explanation product-tags">
                        <span class="product-explanation-title">Tags:</span>
                        <ul>
                            @foreach (var tag in Model.SingleProduct.ProductTagToProducts)
                            {
                                <li>
                                    <a asp-controller="Shop" asp-action="Index" asp-route-SearchTag="@tag.ProductTag.Id">@tag.ProductTag.TagName</a>
                                </li>
                            }
                        </ul>
                    </div>
                    <div class="product-explanation product-explanation-socials align-items-center pb-0">
                        <span class="product-explanation-title pe-3">Share:</span>
                        <ul>
                            <li>
                                <a href="#" data-tippy="Pinterest" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                    <i class="fab fa-pinterest-p"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" data-tippy="Twitter" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" data-tippy="Tumblr" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                    <i class="fab fa-tumblr"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" data-tippy="Dribbble" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                    <i class="fab fa-dribbble"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- #endregion Single Product End -->
<!-- #region Single Product Description -->
<div class="product-description-full pt-100">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <ul class="nav product-tab-nav tab-style-2 pt-0" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="active tab-btn" id="reviews-tab" data-bs-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">
                            Reviews(3)
                        </a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="tab-btn" id="information-tab" data-bs-toggle="tab" href="#information" role="tab" aria-controls="information" aria-selected="false">
                            Information
                        </a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="tab-btn" id="description-tab" data-bs-toggle="tab" href="#description" role="tab" aria-controls="description" aria-selected="true">
                            Description
                        </a>
                    </li>
                </ul>
                <div class="product-tab-content">
                    <div class="tab-pane fade show active" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                        <div class="product-review-body">
                            <div class="blog-comment mt-0">
                                <h4 class="heading">Comments (@Model.SingleProduct.ProductComments.Count)</h4>
                                @{
                                    foreach (var msg in Model.SingleProduct.ProductComments)
                                    {
                                        <div class="blog-comment-item">
                                            <div class="blog-comment-img">
                                                <img src="~/img/user/user-4.png" alt="Image">
                                            </div>
                                            <div class="blog-comment-content" style=" box-shadow: 0 0 10px 0px #cec9c994 !important; padding: 20px 20px 15px 20px !important; border-radius: 10px !important;">
                                                <div class="user-meta">
                                                    <h2 class="user-name" style="margin: 0 !important; font-weight: 500 !important; text-transform: capitalize !important; ">@msg.CommentPost.FullName</h2>
                                                    <span class="date" style="color: #d03838 !important; font-size: 12px !important;">
                                                        @{
                                                            var date = (DateTime.Now - msg.CreatedDate);
                                                            if (date.Days == 0)
                                                            {
                                                                if (date.Hours == 0)
                                                                {
                                                                    if (date.Minutes == 0)
                                                                    {
                                                                        @(date.Seconds) @(" seconds before")
                                                                    }
                                                                    else
                                                                    {
                                                                        @(date.Minutes) @(" minutes before")
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    @(date.Hours) @(" hours before")
                                                                }
                                                            }
                                                            else
                                                            {
                                                                @(date.Days) @(" days before")
                                                            }
                                                        }
                                                    </span>
                                                </div>
                                                <p class="user-comment" style="font-weight: 400 !important; letter-spacing: 1px !important;">
                                                    @msg.Content
                                                </p>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>
                            <div class="feedback-area">
                                <h2 class="heading">Leave a comment</h2>
                                <form class="feedback-form" asp-controller="Shop" asp-action="PostComment" method="post">
                                    <div class="group-input">
                                        <div class="form-field me-md-30 mb-30 mb-md-0 mr-30">
                                            <input asp-for="@Model.CommentPost.FullName" placeholder="Your Name*" class="input-field">
                                        </div>
                                        <div class="form-field">
                                            <input type="email" asp-for="@Model.CommentPost.Email" placeholder="Your Email*" class="input-field">
                                        </div>
                                    </div>
                                    <div class="form-field mt-30">
                                        <input asp-for="@Model.CommentPost.Subject" placeholder="Subject (Optinal)" class="input-field">
                                    </div>
                                    <div class="form-field mt-30">
                                        <textarea asp-for="@Model.CommentPost.Content" placeholder="Message" class="textarea-field"></textarea>
                                    </div>
                                    <input hidden asp-for="@Model.CommentPost.ProductId" value="@Model.SingleProduct.Id" />
                                    <div class="form-field-button-wrap pt-5">
                                        <button type="submit" value="submit" class="btn btn-custom-size xl-size btn-pronia-primary" name="submit">
                                            Post
                                            Comment
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane fade" id="information" role="tabpanel" aria-labelledby="information-tab">
                        <div class="product-information-body">
                            <h4 class="title">Shipping</h4>
                            <p class="short-desc mb-4">
                                The item will be shipped from China. So it need 15-20 days to
                                deliver. Our product is good with reasonable price and we believe you will worth it.
                                So please wait for it patiently! Thanks.Any question please kindly to contact us and
                                we promise to work hard to help you to solve the problem
                            </p>
                            <h4 class="title">About return request</h4>
                            <p class="short-desc mb-4">
                                If you don't need the item with worry, you can contact us
                                then we will help you to solve the problem, so please close the return request!
                                Thanks
                            </p>
                            <h4 class="title">Guarantee</h4>
                            <p class="short-desc mb-0">
                                If it is the quality question, we will resend or refund to
                                you; If you receive damaged or wrong items, please contact us and attach some
                                pictures about product, we will exchange a new correct item to you after the
                                confirmation.
                            </p>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="description" role="tabpanel" aria-labelledby="description-tab">
                        <div class="product-description-body">
                            <p class="short-desc mb-0">
                                @Model.SingleProduct.FullDesc
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- #endregion Single Product Description End -->
<!-- #region Related Products-->
<div class="product-full pt-100 pb-100">
    <div class="container">
        <div class="row">
            <div class="section-title-full">
                <h2 class="section-title">Related Products</h2>
                <p class="section-desc">
                    Contrary to popular belief, Lorem Ipsum is not simply random text. It has
                    roots in a piece of classical Latin literature
                </p>
            </div>
            <div class="col-lg-12">
                <div class="swiper-container new-product-slider" style="overflow: hidden;">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide product-item">
                            <div class="product-item-img">
                                <a href="single-product-variable.html">
                                    <img class="primary-img" src="~/img/products/product-12.png" alt="Product Images">
                                    <img class="secondary-img" src="~/img/products/product-17.png" alt="Product Images">
                                </a>
                                <div class="product-add-action">
                                    <ul>
                                        <li>
                                            <a href="wishlist.html" data-tippy="Add to wishlist" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-heart"></i>
                                            </a>
                                        </li>
                                        <li class="quuickview-btn" data-bs-toggle="modal" data-bs-target="#quickModal">
                                            <a href="#" data-tippy="Quickview" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-eye"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="cart.html" data-tippy="Add to cart" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-shopping-cart"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product-content">
                                <a class="product-name" href="single-product-variable.html">American Marigold</a>
                                <div class="price-box pb-1">
                                    <span class="new-price">$23.45</span>
                                </div>
                                <div class="rating-box">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide product-item">
                            <div class="product-item-img">
                                <a href="single-product-variable.html">
                                    <img class="primary-img" src="~/img/products/product-14.png" alt="Product Images">
                                    <img class="secondary-img" src="~/img/products/product-7.png" alt="Product Images">
                                </a>
                                <div class="product-add-action">
                                    <ul>
                                        <li>
                                            <a href="wishlist.html" data-tippy="Add to wishlist" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-heart"></i>
                                            </a>
                                        </li>
                                        <li class="quuickview-btn" data-bs-toggle="modal" data-bs-target="#quickModal">
                                            <a href="#" data-tippy="Quickview" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-eye"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="cart.html" data-tippy="Add to cart" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-shopping-cart"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product-content">
                                <a class="product-name" href="single-product-variable.html">American Marigold</a>
                                <div class="price-box pb-1">
                                    <span class="new-price">$23.45</span>
                                </div>
                                <div class="rating-box">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide product-item">
                            <div class="product-item-img">
                                <a href="single-product-variable.html">
                                    <img class="primary-img" src="~/img/products/product-11.png" alt="Product Images">
                                    <img class="secondary-img" src="~/img/products/product-6.png" alt="Product Images">
                                </a>
                                <div class="product-add-action">
                                    <ul>
                                        <li>
                                            <a href="wishlist.html" data-tippy="Add to wishlist" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-heart"></i>
                                            </a>
                                        </li>
                                        <li class="quuickview-btn" data-bs-toggle="modal" data-bs-target="#quickModal">
                                            <a href="#" data-tippy="Quickview" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-eye"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="cart.html" data-tippy="Add to cart" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-shopping-cart"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product-content">
                                <a class="product-name" href="single-product-variable.html">American Marigold</a>
                                <div class="price-box pb-1">
                                    <span class="new-price">$23.45</span>
                                </div>
                                <div class="rating-box">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-slide product-item">
                            <div class="product-item-img">
                                <a href="single-product-variable.html">
                                    <img class="primary-img" src="~/img/products/product-5.png" alt="Product Images">
                                    <img class="secondary-img" src="~/img/products/product-15.png" alt="Product Images">
                                </a>
                                <div class="product-add-action">
                                    <ul>
                                        <li>
                                            <a href="wishlist.html" data-tippy="Add to wishlist" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-heart"></i>
                                            </a>
                                        </li>
                                        <li class="quuickview-btn" data-bs-toggle="modal" data-bs-target="#quickModal">
                                            <a href="#" data-tippy="Quickview" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-eye"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="cart.html" data-tippy="Add to cart" data-tippy-inertia="true" data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                                <i class="fal fa-shopping-cart"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product-content">
                                <a class="product-name" href="single-product-variable.html">American Marigold</a>
                                <div class="price-box pb-1">
                                    <span class="new-price">$23.45</span>
                                </div>
                                <div class="rating-box">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- #endregion Related Products End -->
<input id="singleProductId" type="hidden" value="@Model.SingleProduct.Id" />